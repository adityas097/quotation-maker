import{c as Q,u as Z,j as s,A as ee}from"./index-C5bGCW4r.js";import{g as Y,b as O,c as te,L as re}from"./vendor-hBbQJCfh.js";import{M as ne}from"./mail-DleWB6Vi.js";import{L as oe}from"./lock-CE-fPV5n.js";const ie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ae=Q("shield-check",ie);const se=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ce=Q("user-plus",se);var A={exports:{}},I,W;function de(){if(W)return I;W=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return I=t,I}var k,G;function pe(){if(G)return k;G=1;var t=de();function o(){}function i(){}return i.resetWarningCache=o,k=function(){function e(y,x,g,m,f,c){if(c!==t){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}e.isRequired=e;function r(){return e}var d={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:o};return d.PropTypes=d,d},k}var V;function le(){return V||(V=1,A.exports=pe()()),A.exports}var ue=le();const b=Y(ue);var fe=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function U(){return U=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},U.apply(this,arguments)}function he(t,o){if(t==null)return{};var i={},e=Object.keys(t),r,d;for(d=0;d<e.length;d++)r=e[d],!(o.indexOf(r)>=0)&&(i[r]=t[r]);return i}function T(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,D(t,o)}function D(t,o){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},D(t,o)}var E=(function(t){me(o,t);function o(){var e;return e=t.call(this)||this,e.handleExpired=e.handleExpired.bind(T(e)),e.handleErrored=e.handleErrored.bind(T(e)),e.handleChange=e.handleChange.bind(T(e)),e.handleRecaptchaRef=e.handleRecaptchaRef.bind(T(e)),e}var i=o.prototype;return i.getCaptchaFunction=function(r){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[r]:this.props.grecaptcha[r]:null},i.getValue=function(){var r=this.getCaptchaFunction("getResponse");return r&&this._widgetId!==void 0?r(this._widgetId):null},i.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},i.execute=function(){var r=this.getCaptchaFunction("execute");if(r&&this._widgetId!==void 0)return r(this._widgetId);this._executeRequested=!0},i.executeAsync=function(){var r=this;return new Promise(function(d,y){r.executionResolve=d,r.executionReject=y,r.execute()})},i.reset=function(){var r=this.getCaptchaFunction("reset");r&&this._widgetId!==void 0&&r(this._widgetId)},i.forceReset=function(){var r=this.getCaptchaFunction("reset");r&&r()},i.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},i.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},i.handleChange=function(r){this.props.onChange&&this.props.onChange(r),this.executionResolve&&(this.executionResolve(r),delete this.executionReject,delete this.executionResolve)},i.explicitRender=function(){var r=this.getCaptchaFunction("render");if(r&&this._widgetId===void 0){var d=document.createElement("div");this._widgetId=r(d,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(d)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},i.componentDidMount=function(){this.explicitRender()},i.componentDidUpdate=function(){this.explicitRender()},i.handleRecaptchaRef=function(r){this.captcha=r},i.render=function(){var r=this.props;r.sitekey,r.onChange,r.theme,r.type,r.tabindex,r.onExpired,r.onErrored,r.size,r.stoken,r.grecaptcha,r.badge,r.hl,r.isolated;var d=he(r,fe);return O.createElement("div",U({},d,{ref:this.handleRecaptchaRef}))},o})(O.Component);E.displayName="ReCAPTCHA";E.propTypes={sitekey:b.string.isRequired,onChange:b.func,grecaptcha:b.object,theme:b.oneOf(["dark","light"]),type:b.oneOf(["image","audio"]),tabindex:b.number,onExpired:b.func,onErrored:b.func,size:b.oneOf(["compact","normal","invisible"]),stoken:b.string,hl:b.string,badge:b.oneOf(["bottomright","bottomleft","inline"]),isolated:b.bool};E.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var $={exports:{}},p={};var B;function ye(){if(B)return p;B=1;var t=typeof Symbol=="function"&&Symbol.for,o=t?Symbol.for("react.element"):60103,i=t?Symbol.for("react.portal"):60106,e=t?Symbol.for("react.fragment"):60107,r=t?Symbol.for("react.strict_mode"):60108,d=t?Symbol.for("react.profiler"):60114,y=t?Symbol.for("react.provider"):60109,x=t?Symbol.for("react.context"):60110,g=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,c=t?Symbol.for("react.suspense"):60113,a=t?Symbol.for("react.suspense_list"):60120,l=t?Symbol.for("react.memo"):60115,u=t?Symbol.for("react.lazy"):60116,R=t?Symbol.for("react.block"):60121,N=t?Symbol.for("react.fundamental"):60117,P=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function h(n){if(typeof n=="object"&&n!==null){var S=n.$$typeof;switch(S){case o:switch(n=n.type,n){case g:case m:case e:case d:case r:case c:return n;default:switch(n=n&&n.$$typeof,n){case x:case f:case u:case l:case y:return n;default:return S}}case i:return S}}}function w(n){return h(n)===m}return p.AsyncMode=g,p.ConcurrentMode=m,p.ContextConsumer=x,p.ContextProvider=y,p.Element=o,p.ForwardRef=f,p.Fragment=e,p.Lazy=u,p.Memo=l,p.Portal=i,p.Profiler=d,p.StrictMode=r,p.Suspense=c,p.isAsyncMode=function(n){return w(n)||h(n)===g},p.isConcurrentMode=w,p.isContextConsumer=function(n){return h(n)===x},p.isContextProvider=function(n){return h(n)===y},p.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===o},p.isForwardRef=function(n){return h(n)===f},p.isFragment=function(n){return h(n)===e},p.isLazy=function(n){return h(n)===u},p.isMemo=function(n){return h(n)===l},p.isPortal=function(n){return h(n)===i},p.isProfiler=function(n){return h(n)===d},p.isStrictMode=function(n){return h(n)===r},p.isSuspense=function(n){return h(n)===c},p.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===e||n===m||n===d||n===r||n===c||n===a||typeof n=="object"&&n!==null&&(n.$$typeof===u||n.$$typeof===l||n.$$typeof===y||n.$$typeof===x||n.$$typeof===f||n.$$typeof===N||n.$$typeof===P||n.$$typeof===_||n.$$typeof===R)},p.typeOf=h,p}var J;function ge(){return J||(J=1,$.exports=ye()),$.exports}var F,K;function xe(){if(K)return F;K=1;var t=ge(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},d={};d[t.ForwardRef]=e,d[t.Memo]=r;function y(u){return t.isMemo(u)?r:d[u.$$typeof]||o}var x=Object.defineProperty,g=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,a=Object.prototype;function l(u,R,N){if(typeof R!="string"){if(a){var P=c(R);P&&P!==a&&l(u,P,N)}var _=g(R);m&&(_=_.concat(m(R)));for(var h=y(u),w=y(R),n=0;n<_.length;++n){var S=_[n];if(!i[S]&&!(N&&N[S])&&!(w&&w[S])&&!(h&&h[S])){var v=f(R,S);try{x(u,S,v)}catch{}}}}return u}return F=l,F}var ve=xe();const be=Y(ve);function q(){return q=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},q.apply(this,arguments)}function we(t,o){if(t==null)return{};var i={},e=Object.keys(t),r,d;for(d=0;d<e.length;d++)r=e[d],!(o.indexOf(r)>=0)&&(i[r]=t[r]);return i}function Se(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}var j={},_e=0;function Re(t,o){return o=o||{},function(e){var r=e.displayName||e.name||"Component",d=(function(x){Se(g,x);function g(f,c){var a;return a=x.call(this,f,c)||this,a.state={},a.__scriptURL="",a}var m=g.prototype;return m.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+_e++),this.__scriptLoaderID},m.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},m.asyncScriptLoaderHandleLoad=function(c){var a=this;this.setState(c,function(){return a.props.asyncScriptOnLoad&&a.props.asyncScriptOnLoad(a.state)})},m.asyncScriptLoaderTriggerOnScriptLoaded=function(){var c=j[this.__scriptURL];if(!c||!c.loaded)throw new Error("Script is not loaded.");for(var a in c.observers)c.observers[a](c);delete window[o.callbackName]},m.componentDidMount=function(){var c=this,a=this.setupScriptURL(),l=this.asyncScriptLoaderGetScriptLoaderID(),u=o,R=u.globalName,N=u.callbackName,P=u.scriptId;if(R&&typeof window[R]<"u"&&(j[a]={loaded:!0,observers:{}}),j[a]){var _=j[a];if(_&&(_.loaded||_.errored)){this.asyncScriptLoaderHandleLoad(_);return}_.observers[l]=function(v){return c.asyncScriptLoaderHandleLoad(v)};return}var h={};h[l]=function(v){return c.asyncScriptLoaderHandleLoad(v)},j[a]={loaded:!1,observers:h};var w=document.createElement("script");w.src=a,w.async=!0;for(var n in o.attributes)w.setAttribute(n,o.attributes[n]);P&&(w.id=P);var S=function(L){if(j[a]){var X=j[a],C=X.observers;for(var H in C)L(C[H])&&delete C[H]}};N&&typeof window<"u"&&(window[N]=function(){return c.asyncScriptLoaderTriggerOnScriptLoaded()}),w.onload=function(){var v=j[a];v&&(v.loaded=!0,S(function(L){return N?!1:(L(v),!0)}))},w.onerror=function(){var v=j[a];v&&(v.errored=!0,S(function(L){return L(v),!0}))},document.body.appendChild(w)},m.componentWillUnmount=function(){var c=this.__scriptURL;if(o.removeOnUnmount===!0)for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l+=1)a[l].src.indexOf(c)>-1&&a[l].parentNode&&a[l].parentNode.removeChild(a[l]);var u=j[c];u&&(delete u.observers[this.asyncScriptLoaderGetScriptLoaderID()],o.removeOnUnmount===!0&&delete j[c])},m.render=function(){var c=o.globalName,a=this.props;a.asyncScriptOnLoad;var l=a.forwardedRef,u=we(a,["asyncScriptOnLoad","forwardedRef"]);return c&&typeof window<"u"&&(u[c]=typeof window[c]<"u"?window[c]:void 0),u.ref=l,O.createElement(e,u)},g})(O.Component),y=O.forwardRef(function(x,g){return O.createElement(d,q({},x,{forwardedRef:g}))});return y.displayName="AsyncScriptLoader("+r+")",y.propTypes={asyncScriptOnLoad:b.func},be(y,e)}}var M="onloadcallback",je="grecaptcha";function z(){return typeof window<"u"&&window.recaptchaOptions||{}}function Ne(){var t=z(),o=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+o+"/recaptcha/enterprise.js?onload="+M+"&render=explicit":"https://"+o+"/recaptcha/api.js?onload="+M+"&render=explicit"}Re(Ne,{callbackName:M,globalName:je,attributes:z().nonce?{nonce:z().nonce}:{}})(E);const Ee=()=>{const[t,o]=O.useState({username:"",password:"",confirmPassword:""}),[i,e]=O.useState(""),[r,d]=O.useState(!1),y=te(),{login:x}=Z(),g=f=>{o({...t,[f.target.name]:f.target.value})},m=async f=>{if(f.preventDefault(),e(""),t.password!==t.confirmPassword)return e("Passwords do not match");d(!0);try{let c;window.grecaptcha&&window.grecaptcha.enterprise?c=await window.grecaptcha.enterprise.execute("6LdfUywsAAAAAAOtQdmErAnAoIcUcDvUQmUrE6Jt",{action:"SIGNUP"}):console.warn("Recaptcha not loaded");const a=await fetch(`${ee}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password,captchaToken:c})}),l=await a.json();a.ok?(x(l.user,l.token),y("/")):e(l.error||"Registration failed")}catch(c){console.error(c),e("Something went wrong. Please try again.")}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-lg rounded-2xl shadow-2xl w-full max-w-4xl flex overflow-hidden",children:[s.jsxs("div",{className:"hidden md:flex flex-col justify-center items-center w-1/2 bg-indigo-600 p-12 text-white text-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-blue-700 opacity-90"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx(ce,{size:64,className:"mb-6 mx-auto opacity-80"}),s.jsx("h2",{className:"text-4xl font-extrabold mb-4",children:"Join Us!"}),s.jsx("p",{className:"text-indigo-100 text-lg leading-relaxed",children:"Create your account today and start managing your quotes and invoices with ease."})]}),s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white/10 rounded-full -translate-x-1/2 -translate-y-1/2 blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-white/10 rounded-full translate-x-1/2 translate-y-1/2 blur-3xl"})]}),s.jsxs("div",{className:"w-full md:w-1/2 p-8 md:p-12 bg-white",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Sign Up"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Create your free account"})]}),i&&s.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 text-sm flex items-center",children:[s.jsx("span",{className:"mr-2",children:"⚠️"})," ",i]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ne,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",name:"username",value:t.username,onChange:g,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"you@example.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(oe,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"password",name:"password",value:t.password,onChange:g,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Create a strong password",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ae,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:g,className:"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Repeat password",required:!0})]})]}),s.jsxs("div",{className:"text-xs text-gray-400 text-center",children:["This site is protected by reCAPTCHA and the Google",s.jsx("a",{href:"https://policies.google.com/privacy",className:"text-blue-500 mx-1",children:"Privacy Policy"})," and",s.jsx("a",{href:"https://policies.google.com/terms",className:"text-blue-500 mx-1",children:"Terms of Service"})," apply."]}),s.jsx("button",{type:"submit",disabled:r,className:`w-full py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg transform transition-all hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${r?"opacity-70 cursor-not-allowed":""}`,children:r?"Creating Account...":"Sign Up"})]}),s.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(re,{to:"/login",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Sign In"})]})]})]})})};export{Ee as default};
