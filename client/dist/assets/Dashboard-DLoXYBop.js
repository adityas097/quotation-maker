import{c as f,j as e,F as p,U as u,A as c}from"./index-C5bGCW4r.js";import{b as r,L as g}from"./vendor-hBbQJCfh.js";import{a as o}from"./authFetch-CQWmCeCA.js";const y=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],v=f("shopping-bag",y),w=()=>{const[s,d]=r.useState({quotes:0,items:0,clients:0}),[a,l]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const[i,h]=await Promise.all([o(`${c}/api/quotations`),o(`${c}/api/items`)]),n=await i.json(),x=await h.json(),m=new Set(n.map(j=>j.client_name)).size;d({quotes:n.length,items:x.length,clients:m}),l(n.slice(0,5))}catch(i){console.error(i)}})()},[]),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"card flex-between",children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Total Quotes"}),e.jsx("p",{style:{fontSize:"1.5rem",fontWeight:700},children:s.quotes})]}),e.jsx("div",{style:{padding:"1rem",background:"#eff6ff",borderRadius:"50%",color:"var(--accent)"},children:e.jsx(p,{size:24})})]}),e.jsxs("div",{className:"card flex-between",children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Total Items"}),e.jsx("p",{style:{fontSize:"1.5rem",fontWeight:700},children:s.items})]}),e.jsx("div",{style:{padding:"1rem",background:"#f0fdf4",borderRadius:"50%",color:"var(--success)"},children:e.jsx(v,{size:24})})]}),e.jsxs("div",{className:"card flex-between",children:[e.jsxs("div",{children:[e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Active Clients"}),e.jsx("p",{style:{fontSize:"1.5rem",fontWeight:700},children:s.clients})]}),e.jsx("div",{style:{padding:"1rem",background:"#fdf2f8",borderRadius:"50%",color:"#db2777"},children:e.jsx(u,{size:24})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Recent Quotations"}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Client"}),e.jsx("th",{children:"Items"}),e.jsx("th",{})]})}),e.jsxs("tbody",{children:[a.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{style:{fontWeight:500},children:t.client_name}),e.jsxs("td",{children:[t.item_count," Items"]}),e.jsx("td",{style:{textAlign:"right"},children:e.jsx(g,{to:`/quotations/${t.id}`,style:{color:"var(--accent)",textDecoration:"none",fontWeight:500},children:"View"})})]},t.id)),a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",children:"No recent activity."})})]})]})})]})]})};export{w as default};
